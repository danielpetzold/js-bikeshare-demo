<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 7.2.1.final using JasperReports Library version 6.6.0  -->
<!-- 2019-04-11T19:00:44 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Driver_CheckIn_List" pageWidth="592" pageHeight="168" columnWidth="592" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="48e740a0-f7d9-4366-b8b6-69bcb63eeb9a">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="BikeShare-Adapter-Dev"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="302"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="692"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1" value="381"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2" value="612"/>
	<property name="ireport.jasperserver.url" value="http://JRS-bikes-ElasticL-1K5YHF91VRJUO-1806919984.us-east-2.elb.amazonaws.com/jasperserver-pro/"/>
	<property name="ireport.jasperserver.user" value="superuser"/>
	<property name="net.sf.jasperreports.print.create.bookmarks" value="true"/>
	<import value="java.time.LocalTime"/>
	<template><![CDATA["ReportDefs/StyleTemplates/BikeShare_Style.jrtx"]]></template>
	<queryString language="SQL">
		<![CDATA[Select si.name as "stationName", rs.system_id as "systemId", rs.region_id as "regionId",
rs.route_id, rs.station_id, rs.stop_order, rs.last_updated, rs.is_completed, rs.id as "routeId",
rs.session_id as "rStopSessionId", ss.id as "stationId", ss.num_bikes_available, ss.num_bikes_disabled, 
ss.num_docks_available,	ss.num_docks_disabled, ss.session_id as "sStatSessionId"
From route_stop "rs"
Inner Join
	(Select rs1.station_id, rs1.route_id, Max(rs1.last_updated) "max_update" 
	 	From route_stop "rs1" 	
	 	Where rs1.route_id = 'SF10' 
    	Group By rs1.route_id, rs1.station_id) "rs2"
		on rs2.route_id = rs.route_id and rs2.max_update = rs.last_updated
Inner Join
	station_status "ss" on ss.station_id = rs.station_id and ss.system_id = rs.system_id
Inner Join 
	(Select ss1.station_id, ss1.system_id, Max(ss1.last_reported) "max_reported" 
	 	From station_status "ss1" 	
    	Group By ss1.station_id, ss1.system_id) "ss1" 
		on ss1.station_id = rs.station_id and ss1.system_id = rs.system_id and ss.last_reported = ss1.max_reported	
Inner Join station_information "si" on si.station_id = ss.station_id and si.system_id = ss.system_id
Order By rs.is_completed, rs.stop_order]]>
	</queryString>
	<field name="stationName" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="stationName"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_information"/>
	</field>
	<field name="systemId" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="systemId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="regionId" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="regionId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="route_id" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="route_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="station_id" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="station_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="stop_order" class="java.lang.Float">
		<property name="com.jaspersoft.studio.field.label" value="stop_order"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="last_updated" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="last_updated"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="is_completed" class="java.lang.Boolean">
		<property name="com.jaspersoft.studio.field.label" value="is_completed"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="routeId" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.label" value="routeId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="rStopSessionId" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="rStopSessionId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="route_stop"/>
	</field>
	<field name="stationId" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.label" value="stationId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<field name="num_bikes_available" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="num_bikes_available"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<field name="num_bikes_disabled" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="num_bikes_disabled"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<field name="num_docks_available" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="num_docks_available"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<field name="num_docks_disabled" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="num_docks_disabled"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<field name="sStatSessionId" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="sStatSessionId"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station_status"/>
	</field>
	<variable name="CheckInTime" class="java.lang.String">
		<variableExpression><![CDATA[$V{REPORT_COUNT}]]></variableExpression>
	</variable>
	<variable name="ArrivalTime" class="java.time.LocalTime">
		<variableExpression><![CDATA[LocalTime.of(6,0,0).plusMinutes(18 * $V{REPORT_COUNT})]]></variableExpression>
	</variable>
	<background>
		<band height="168" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<frame>
				<reportElement mode="Opaque" x="0" y="0" width="592" height="168" backcolor="#F7F9FA" uuid="1c1200f4-4a90-46df-8676-dfd9b90474c5"/>
			</frame>
		</band>
	</background>
	<detail>
		<band height="168" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<rectangle radius="5">
				<reportElement mode="Opaque" x="0" y="48" width="592" height="120" uuid="18e91f03-c440-4d0e-b582-93cdd6a18712">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineStyle="Solid" lineColor="#DCDCDC"/>
				</graphicElement>
			</rectangle>
			<textField isStretchWithOverflow="true">
				<reportElement style="CheckInTitle" x="18" y="90" width="402" height="40" uuid="14d4d825-0655-4318-aca0-d7767a7f73ef"/>
				<textFieldExpression><![CDATA[$F{stationName}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="446" y="97" width="20" height="20" uuid="3a02e238-27e3-40c2-affe-4cf15a214da7"/>
				<imageExpression><![CDATA["repo:/public/Bikeshare_demo/Resources/Images/bicycle_2.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="491" y="97" width="20" height="20" uuid="bfba36e2-5dca-40ee-bf78-52cdc9b7bd92">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<imageExpression><![CDATA["repo:/public/Bikeshare_demo/Resources/Images/box_upload.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="524" y="97" width="20" height="20" uuid="0155867a-756c-4c43-bcd5-ec97425ee9f8"/>
				<imageExpression><![CDATA["repo:/public/Bikeshare_demo/Resources/Images/box_download.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="557" y="97" width="20" height="20" uuid="490b0a93-59a5-4291-b308-9fa2a3e47324"/>
				<imageExpression><![CDATA["repo:/public/Bikeshare_demo/Resources/Images/wrench_screwdriver.png"]]></imageExpression>
			</image>
			<line>
				<reportElement x="478" y="96" width="1" height="31" forecolor="#DCDCDC" uuid="3787a389-0f2c-446d-8304-f9ecef935dc3"/>
				<graphicElement>
					<pen lineColor="#DCDCDC"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement style="BaseReportStyle" x="446" y="121" width="22" height="22" uuid="c8637f0c-8302-47aa-92f4-f70c6bde0b61">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{num_bikes_available}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="BaseReportStyle" x="490" y="121" width="22" height="22" uuid="7d8a97c4-c466-4a73-ae16-194b3c1d339a">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{num_docks_available}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="BaseReportStyle" x="523" y="121" width="22" height="22" uuid="c20f933e-1a12-4f0d-8d80-3af9e0f50b40">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{num_docks_disabled}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="BaseReportStyle" x="556" y="121" width="22" height="22" uuid="6df28bf7-5ad7-4148-a84f-7d25316cf20b">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{num_bikes_disabled}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="446" y="61" width="130" height="15" forecolor="#71AC5C" uuid="3f8f6239-69d9-441e-bc22-b80a6a6ecab3">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA["Completed at "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="CheckInTitle" x="22" y="136" width="128" height="16" forecolor="#9C9C9C" uuid="990c0ed1-1dbb-46d1-932a-9a1a658b867a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$V{ArrivalTime} + "AM"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
